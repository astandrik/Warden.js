(function(){var a,b,c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};a=function(){function a(a,b){this.type=a,this.events=b,this.settings={taken:0,filtered:!1,mapped:!1,process:[]}}return a.prototype.setup=function(a,b){var c;return"string"!=typeof a?this.settings=a:(c={},c[a]=b,process.push(c))},a}(),c=function(){function a(a,b){this.type=a,this.name=b,this.init&&this.init(arguments)}return a.prototype.evaluate=function(a,b){return this.bus.listening?this.callback.apply(b,[a]):(console.log(""+this.name+" stream is not listening by any Bus"),!1)},a}(),b=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return f(c,b),c.prototype.init=function(){return this.bus=new a(this.type,[])},c.prototype.map=function(){var a;return a=new c(this.type,this.name),a.bus.setup(this.bus.settings),a},c.prototype.on=function(a){return this.bus.listening=!0,this.callback=a},c}(c),d={},d.version="0.0.0",d.toString(function(){return d.stringify(d)}),d.createStream=function(a,c){return new b(a,c)},d.module=function(a){var b;return b=function(){function b(){a.apply(this,arguments)}var c,e;return e={},c={},b.prototype.emit=function(a){var b;return b=this,null!=e[a.type]&&e[a.type].map(function(c){return c.evaluate(a,b)}),null!=c[a.type]&&c[a.type].map(function(c){var d,e;return e=c.config&&c.config.context||b,d=c.config&&c.config.adj,c.callback.apply(e,[a].concat(d))}),this},b.prototype.on=function(a,b,d){var e;return e=c[a],null==c[a]&&(c[a]=[]),c[a].push({callback:b,config:d}),this},b.prototype.stream=function(a,b){var c;return c=d.createStream(a,b),null==e[a]&&(e[a]=[]),e[a].push(c),c},b}()},d.stringify=function(a,b,c){var e,f,g,h,i;if(h="{"+(b?"\n":" "),c||(c=0),c>2)return h="[object]";for(g="",e=0;e++<=c&&b;)g+="	";for(f in a)i=a[f],h+=""+g+f+":",h+="object"==typeof i?d.stringify(i,b,c+1)+(b?",\n":", "):i?"string"==typeof i?b?"'"+i.toString()+"',\n":"'"+i.toString()+"', ":b?""+i.toString()+",\n":""+i.toString()+", ":"'undefined'"+(b?",\n":", ");return h=h.slice(0,-2),h+=c>0?" }":b?"\n}":" }"},this.Warden=d}).call(this);